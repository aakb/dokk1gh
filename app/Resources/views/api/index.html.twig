{% extends 'base.html.twig' %}

{% block body %}
  <h1>{{ site_name }} â€“ the api</h1>

  <table class="table">
    {% for title, config in {
      'List templates': ['api_template_list'],
      'Show template': ['api_template_show', {id: 3184970}],
      'List persons': ['api_person_list'],
      'Show person': ['api_person_show', {id: 487865}],
      'Find person by "az-ident" (PersonnelNo)': ['api_person_list', {'PersonnelNo': 'azkb262'}],
    } %}
      {% set url = path(config[0], config[1]|default({})) %}
      <tr>
        <td>{{ title }}</td>
        <td><a target="result" href="{{ url }}">{{ url }}</a></td>
      </tr>
    {% endfor %}
  </table>

  <iframe name="result"></iframe>
{% endblock %}

{% block stylesheets %}
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"/>
  <style>
    body {
    margin: 1em;
    }
   iframe {
     border: solid thin #888;
     width: 100%;
     height: 500px;
   }
  </style>
{% endblock %}
