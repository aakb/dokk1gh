{% extends 'app/base.html.twig' %}

{% block content %}
    <div class="header">
        <h1>{{ 'Welcome'|trans }}</h1>
        <p class="lead">{{ 'In a momoent you will be ready to generate your first code'|trans }}</p>
    </div>
    <div class="onboard-guide">
        <div class="slide">
            <div class="card text-center">
              <div class="card-body">
                <img src="//placehold.it/200X200" alt="Placeholder">
                <p class="card-text">Body</p>
              </div>
            </div>
            <div class="pager">
                1/3
            </div>
            <button class="btn btn-primary btn-lg btn-block" onclick="guideSteps()">{{ 'Next'|trans }}</button>
        </div>
        <div class="slide">
            <div class="card text-center">
              <div class="card-body">
                <img src="//placehold.it/200X200" alt="Placeholder">
                <p class="card-text">Body</p>
              </div>
            </div>
            <div class="pager">
                2/3
            </div>
            <button class="btn btn-primary btn-lg btn-block" onclick="guideSteps()">{{ 'Next'|trans }}</button>
        </div>
        <div class="slide">
            <div class="card text-center">
              <div class="card-body">
                <img src="//placehold.it/200X200" alt="Placeholder">
                <p class="card-text">Body</p>
              </div>
            </div>
            <div class="pager">
                3/3
            </div>

            {% if guest.activatedAt == null %}
                <form method="post" action="{{ path('app_accept', {guest: guest.id}) }}">
                    <button type="submit" class="btn btn-primary btn-lg btn-block" onclick="guideSteps()">{{ 'I agree'|trans }}</button>
                </form>
            {% else %}
                <a class="btn btn-primary btn-lg btn-block" href="{{ path('app_main', {guest: guest.id}) }}">{{ 'OK'|trans }}</a>
            {% endif %}
        </div>
    </div>
    <script>
        var slides = document.querySelectorAll('.slide');
        slides = Array.prototype.slice.call(slides);
        var currentSlide = 0;
        function guideSteps() {
            slides.forEach(function(slide, index){
                slide.style.display = (index === currentSlide) ? 'block':'none';
            })
            currentSlide++;
        }
        guideSteps();
    </script>
{% endblock %}
